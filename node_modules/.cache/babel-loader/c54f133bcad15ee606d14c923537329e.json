{"remainingRequest":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/babel-loader/lib/index.js!/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/src/views/login/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/src/views/login/index.vue","mtime":1641648700070},{"path":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9MTUgvRGVza3RvcC9PbmlvbjMvT25pb24zLVNob3Avb25pb24zLXBjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyB1c2VyTG9naW4gfSBmcm9tICIuLi8uLi9uZXR3b3JrL3VzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgZW1haWw6ICJMbWhAWG4uY29tIiwKICAgICAgICBwYXNzd29yZDogIkxtaEBYbi5jb20iCiAgICAgIH0sCiAgICAgIGxvZ2luRm9ybVJ1bGVzOiB7CiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnmbvlvZXlkI3np7AiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAzLAogICAgICAgICAgbWF4OiAxMCwKICAgICAgICAgIG1lc3NhZ2U6ICLplb/luqblnKggMyDliLAgMTAg5Liq5a2X56ymIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl55m75b2V5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNiwKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDYg5YiwIDE1IOS4quWtl+espiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/nmbvlvZUKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3lpZWxkJHVzZXJMb2dpbiwgcmVzOwoKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyTG9naW4oX3RoaXMubG9naW5Gb3JtLmVtYWlsLCBfdGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgX3lpZWxkJHVzZXJMb2dpbiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCR1c2VyTG9naW4uZGF0YTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLnmbvlvZXlpLHotKUiKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlckluZm8iLCByZXMuZGF0YS51c2VybmFtZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnmbvlvZXmiJDlip8iKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS51c2VyID0gcmVzOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnNob3cpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImlzU2hvdyIpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuc3RhdGUuaXNTaG93KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9yZWdpc3RlciIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/LMH/Desktop/Onion3/Onion3-Shop/onion3-pc/src/views/login/index.vue"],"names":[],"mappings":";;AA0CA,SAAS,SAAT,QAA0B,oBAA1B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAE;AACT,QAAA,KAAK,EAAE,YADE;AAET,QAAA,QAAQ,EAAE;AAFD,OADN;AAKL,MAAA,cAAc,EAAE;AACd,QAAA,KAAK,EAAE,CACL;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,SAA3B;AAAsC,UAAA,OAAO,EAAE;AAA/C,SADK,EAEL;AACE,UAAA,GAAG,EAAE,CADP;AAEE,UAAA,GAAG,EAAE,EAFP;AAGE,UAAA,OAAO,EAAE,gBAHX;AAIE,UAAA,OAAO,EAAE;AAJX,SAFK,CADO;AAUd,QAAA,QAAQ,EAAE,CACR;AAAE,UAAA,QAAQ,EAAE,IAAZ;AAAkB,UAAA,OAAO,EAAE,SAA3B;AAAsC,UAAA,OAAO,EAAE;AAA/C,SADQ,EAER;AACE,UAAA,GAAG,EAAE,CADP;AAEE,UAAA,GAAG,EAAE,EAFP;AAGE,UAAA,OAAO,EAAE,gBAHX;AAIE,UAAA,OAAO,EAAE;AAJX,SAFQ;AAVI;AALX,KAAP;AA0BD,GA7BY;AA8Bb,EAAA,OAAO,EAAE;AACP;AACA,IAAA,KAFO,mBAEC;AAAA;;AACN,WAAK,KAAL,CAAW,SAAX,CAAqB,QAArB;AAAA,2EAA8B,iBAAO,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACvB,KADuB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,yBAEA,SAAS,CACnC,KAAI,CAAC,SAAL,CAAe,KADoB,EAEnC,KAAI,CAAC,SAAL,CAAe,QAFoB,CAFT;;AAAA;AAAA;AAEd,kBAAA,GAFc,oBAEpB,IAFoB;AAM5B,kBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,sBAAI,GAAG,CAAC,IAAJ,CAAS,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,oBAAA,KAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,MAApB;AACF;;AACA,kBAAA,MAAM,CAAC,cAAP,CAAsB,OAAtB,CAA8B,OAA9B,EAAuC,GAAG,CAAC,IAAJ,CAAS,KAAhD;AACA,kBAAA,MAAM,CAAC,cAAP,CAAsB,OAAtB,CAA8B,UAA9B,EAA0C,GAAG,CAAC,IAAJ,CAAS,QAAnD;;AACA,kBAAA,KAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,MAAtB;;AACA,kBAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,IAAlB,GAAyB,GAAzB;;AACA,sBAAI,GAAG,CAAC,IAAJ,CAAS,IAAb,EAAmB;AACjB,oBAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,QAArB;AACF;;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,MAA9B;;AACA,kBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,OAAlB;;AAlB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA9B;;AAAA;AAAA;AAAA;AAAA;AAoBD,KAvBM;AAwBP,IAAA,QAxBO,sBAwBI;AACT,WAAK,OAAL,CAAa,IAAb,CAAkB,WAAlB;AACD;AA1BM;AA9BI,CAAf","sourcesContent":["<template>\n  <div>{{ person }}</div>\n  <div id=\"shortNav\">\n    <div class=\"login_container\">\n      <div class=\"login_box\">\n        <!--头像区域-->\n        <div class=\"avator_box\">\n          <img src=\"../../assets/logo.png\" alt=\"\" />\n        </div>\n        <!--登录表单区域-->\n        <el-form\n          ref=\"loginForm\"\n          :model=\"loginForm\"\n          :rules=\"loginFormRules\"\n          label-width=\"0px\"\n          class=\"login_form\"\n        >\n          <el-form-item prop=\"username\">\n            <el-input\n              v-model=\"loginForm.email\"\n              prefix-icon=\"el-icon-user\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\">\n            <el-input\n              v-model=\"loginForm.password\"\n              type=\"password\"\n              prefix-icon=\"el-icon-lock\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item class=\"btns\">\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\n            <el-button type=\"info\" @click=\"lmh\">注册</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { userLogin } from \"../../network/user\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      loginForm: {\n        email: \"Lmh@Xn.com\",\n        password: \"Lmh@Xn.com\",\n      },\n      loginFormRules: {\n        email: [\n          { required: true, message: \"请输入登录名称\", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 10,\n            message: \"长度在 3 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [\n          { required: true, message: \"请输入登录密码\", trigger: \"blur\" },\n          {\n            min: 6,\n            max: 15,\n            message: \"长度在 6 到 15 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    //登录\n    login() {\n      this.$refs.loginForm.validate(async (valid) => {\n        if (!valid) return;\n        const { data: res } = await userLogin(\n          this.loginForm.email,\n          this.loginForm.password\n        );\n        console.log(res);\n        if (res.meta.status !== 200) {\n          this.$message.error(\"登录失败\");\n        }\n        window.sessionStorage.setItem(\"token\", res.data.token);\n        window.sessionStorage.setItem(\"userInfo\", res.data.username);\n        this.$message.success(\"登录成功\");\n        this.$store.state.user = res;\n        if (res.data.show) {\n          this.$store.dispatch(\"isShow\");\n        }\n        console.log(this.$store.state.isShow);\n        this.$router.push(\"/home\");\n      });\n    },\n    register() {\n      this.$router.push(\"/register\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login_container {\n  background-color: #2b4b6b;\n  width: 100%;\n  height: 100%;\n}\n\n.login_box {\n  width: 450px;\n  height: 300px;\n  background-color: blue;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.avator_box {\n  height: 130px;\n  width: 130px;\n  border: 1px solid #eee;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  padding: 10px;\n  border-radius: 50%;\n  box-shadow: 0 0 10px #ddd;\n}\n.avator_box img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: #eee;\n}\n.login_form {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.btns {\n  text-align: right;\n}\n</style>"],"sourceRoot":""}]}